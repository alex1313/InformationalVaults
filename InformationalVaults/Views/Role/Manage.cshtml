@model DomainModel.ViewModels.UsersRolesViewModel[]

@{
    ViewBag.Title = "Manage roles";
}

<h2>@ViewBag.Title</h2>

@using (Html.BeginForm("Manage", "Role"))
{
    <table>
        <tbody>
            @for (var i = 0; i < Model.Length; i++)
            {
                var user = Model[i];
                <tr>
                    @Html.HiddenFor(x => x[i].Id)

                    <td>
                        @Html.DisplayFor(x => x[i].Name)
                    </td>

                    <td>
                        @Html.DropDownListFor(x => x[i].RoleId, user.Role, "Choose a role")
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <input type="submit" value="Submit"/>
}